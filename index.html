<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMS Mailing Bot - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f5f5f5; }
        .navbar { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .balance-card { border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .usdt-card { background: linear-gradient(135deg, #26a17b 0%, #1e7a5e 100%); color: white; }
        .ton-card { background: linear-gradient(135deg, #0098ea 0%, #0077b5 100%); color: white; }
        .btn-action { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; }
        .btn-action:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); }
        .chat-container { height: 500px; overflow-y: auto; border: 1px solid #ddd; border-radius: 10px; background: white; }
        .message { margin: 10px; padding: 10px; border-radius: 10px; max-width: 80%; }
        .user-message { background: #e3f2fd; margin-left: auto; }
        .bot-message { background: #f5f5f5; margin-right: auto; }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-dark mb-4">
        <div class="container">
            <span class="navbar-brand">üì® SMS Mailing Bot</span>
            <div class="text-white">
                <span id="userName"></span>
                <button class="btn btn-sm btn-outline-light ms-3" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="row mb-4" id="authSection">
            <div class="col-md-6 mx-auto">
                <div class="card">
                    <div class="card-body text-center">
                        <h3>üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
                        <p class="text-muted">–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ Telegram</p>
                        <button class="btn btn-action btn-lg mt-3" onclick="loginWithTelegram()">
                            –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4" id="mainSection" style="display: none;">
            <!-- –ë–∞–ª–∞–Ω—Å—ã -->
            <div class="col-md-6 mb-4">
                <div class="card balance-card usdt-card">
                    <div class="card-body">
                        <h5>üíé USDT –ë–∞–ª–∞–Ω—Å</h5>
                        <h2 id="balanceUsdt">0.00</h2>
                        <p>1 SMS = 1 USDT</p>
                        <button class="btn btn-light" onclick="deposit('USDT')">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="card balance-card ton-card">
                    <div class="card-body">
                        <h5>‚ö° TON –ë–∞–ª–∞–Ω—Å</h5>
                        <h2 id="balanceTon">0.00</h2>
                        <p>1 SMS = 1.63 TON</p>
                        <button class="btn btn-light" onclick="deposit('TON')">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="col-12 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <button class="btn btn-action btn-lg me-3" onclick="startMailing()">
                            üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É
                        </button>
                        <button class="btn btn-outline-primary btn-lg" onclick="openProfile()">
                            üë§ –ü—Ä–æ—Ñ–∏–ª—å
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ß–∞—Ç —Å –±–æ—Ç–æ–º -->
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5>üí¨ –ß–∞—Ç —Å –±–æ—Ç–æ–º</h5>
                    </div>
                    <div class="card-body">
                        <div class="chat-container p-3 mb-3" id="chatContainer">
                            <div class="message bot-message">
                                <strong>–ë–æ—Ç:</strong> –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ SMS Mailing! –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ.
                            </div>
                        </div>
                        <div class="input-group">
                            <input type="text" class="form-control" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                            <button class="btn btn-primary" onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div class="modal fade" id="depositModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">üí≥ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body" id="depositModalBody">
                        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Telegram Web App API
        const tg = window.Telegram?.WebApp;
        let userData = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            if (tg) {
                tg.expand();
                userData = tg.initDataUnsafe?.user;
                if (userData) {
                    showMainSection();
                    loadUserData();
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram
        function loginWithTelegram() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Login Widget
            // –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram Web App
            alert("–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram");
            // –î–ª—è –¥–µ–º–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Å–µ–∫—Ü–∏—é
            showMainSection();
            loadUserData();
        }

        function showMainSection() {
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('mainSection').style.display = 'block';
        }

        function loadUserData() {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('balanceUsdt').textContent = '0.00';
            document.getElementById('balanceTon').textContent = '0.00';
            if (userData) {
                document.getElementById('userName').textContent = userData.first_name;
            }
        }

        function deposit(currency) {
            let modalBody = document.getElementById('depositModalBody');
            let content = `
                <h6>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ ${currency}</h6>
                <p>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 10 ${currency}</p>
                <p>–°–µ—Ç—å: ${currency === 'USDT' ? 'TRON (TRC20)' : 'The Open Network'}</p>
                <div class="row g-2 mb-3">
                    <div class="col-4"><button class="btn btn-outline-primary w-100" onclick="selectAmount(10, '${currency}')">10 ${currency}</button></div>
                    <div class="col-4"><button class="btn btn-outline-primary w-100" onclick="selectAmount(25, '${currency}')">25 ${currency}</button></div>
                    <div class="col-4"><button class="btn btn-outline-primary w-100" onclick="selectAmount(50, '${currency}')">50 ${currency}</button></div>
                    <div class="col-4"><button class="btn btn-outline-primary w-100" onclick="selectAmount(100, '${currency}')">100 ${currency}</button></div>
                    <div class="col-4"><button class="btn btn-outline-primary w-100" onclick="selectAmount(250, '${currency}')">250 ${currency}</button></div>
                </div>
                <div class="mb-3">
                    <label class="form-label">–î—Ä—É–≥–∞—è —Å—É–º–º–∞:</label>
                    <input type="number" class="form-control" id="customAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="10">
                </div>
                <button class="btn btn-primary w-100" onclick="processDeposit('${currency}')">–ü–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å –¥–ª—è –æ–ø–ª–∞—Ç—ã</button>
            `;
            modalBody.innerHTML = content;
            new bootstrap.Modal(document.getElementById('depositModal')).show();
        }

        function selectAmount(amount, currency) {
            document.getElementById('customAmount').value = amount;
        }

        function processDeposit(currency) {
            let amount = document.getElementById('customAmount').value;
            if (!amount || amount < 10) {
                alert(`–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ 10 ${currency}`);
                return;
            }
            
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞
            alert(`–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ ${amount} ${currency} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä`);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            bootstrap.Modal.getInstance(document.getElementById('depositModal')).hide();
        }

        function startMailing() {
            addMessageToChat("user", "–ó–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏...");
            addMessageToChat("bot", "üì± –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏.\n\n–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞:\n+79991234567 ;\n89991234567 ;");
            
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞—Å—Å—ã–ª–∫–∏
        }

        function openProfile() {
            let profileInfo = `
                üë§ –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å\n
                ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n
                –ò–º—è: ${userData?.first_name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n
                USDT –ë–∞–ª–∞–Ω—Å: 0.00\n
                TON –ë–∞–ª–∞–Ω—Å: 0.00\n
                ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n
                üíé –¶–µ–Ω—ã:\n
                ‚Ä¢ 1 SMS = 1 USDT\n
                ‚Ä¢ 1 SMS = 1.63 TON
            `;
            addMessageToChat("bot", profileInfo);
        }

        function sendMessage() {
            let input = document.getElementById('messageInput');
            let message = input.value.trim();
            if (message) {
                addMessageToChat("user", message);
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                input.value = '';
            }
        }

        function addMessageToChat(sender, text) {
            let chat = document.getElementById('chatContainer');
            let messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender === 'user' ? 'user-message' : 'bot-message'}`;
            messageDiv.innerHTML = `<strong>${sender === 'user' ? '–í—ã' : '–ë–æ—Ç'}:</strong> ${text}`;
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }

        function logout() {
            if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?")) {
                window.location.reload();
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = init;
    </script>
</body>
</html>
